{% extends 'base.html' %}
{% from 'bootstrap/wtf.html' import quick_form %}
{% from '_macros.html' import render_pagination %}

{% block title %}Weblog{% endblock %}

{% block page_content %}
    <!-- 页面头部 -->
    <div class="page-header">
        <h1>
            Hello 
            {% if current_user.name %}
                {{ current_user.name }}
            {% else %}
                Stranger
            {% endif %}
        </h1>
        <br>

        <!-- 博客发布表单（仅登录用户可见） -->
        {% if current_user.is_authenticated %}
            <div>
                {{ quick_form(form) }}
            </div>
            <br>
        {% endif %}
    </div>

    <!-- 博客列表 -->
    {% include '_blogs.html' %}

    <!-- 分页导航 -->
    {% if pagination %}
        <div class="pagination-nav">
            {{ render_pagination(pagination, 'front.index') }}
        </div>
    {% endif %}
{% endblock %}

{% block scripts %}
    {{ super() }}
    <!-- 引入 moment.js -->
    {{ moment.include_moment() }}
    {{ moment.lang('zh-cn') }}
    <!-- 引入 Markdown 预览支持 -->
    {{ pagedown.include_pagedown() }}
{% endblock %}

<style>
.profile-thumbnail {
    width: 32px;
    height: 32px;
    margin-right: 10px;
}
</style>
    